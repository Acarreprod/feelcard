{%- render 'section-spacing-collapsing' -%}

<style>
  #shopify-section-{{ section.id }} {
    --product-grid: auto / minmax(0, 1fr);
    --product-gallery-media-list-grid: auto / auto-flow {% if section.settings.mobile_carousel_control == 'free_scroll' %}{% if section.settings.mobile_media_size == 'expanded' %}84vw{% else %}73vw{% endif %}{% else %}100%{% endif %};
    --product-gallery-media-list-gap: {% if section.settings.mobile_media_size == 'expanded' %}var(--spacing-0-5){% else %}var(--grid-gutter){% endif %};
  }

  @media screen and (max-width: 999px) {
    #shopify-section-{{ section.id }} {
      --section-spacing-block-start: {% if section.settings.mobile_media_size == 'expanded' %}0px{% else %}var(--container-gutter){% endif %};
    }
  }

  @media screen and (min-width: 1000px) {
    #shopify-section-{{ section.id }} {
      {%- assign media_ratio = section.settings.desktop_media_width | divided_by: 50.0 -%}
      --product-grid: auto / minmax(0, {{ media_ratio }}fr) minmax(0, {{ 2.0 | minus: media_ratio }}fr);
      --product-gallery-media-list-grid: {% if section.settings.desktop_media_layout contains 'grid' %}auto-flow dense / repeat({% if section.settings.desktop_media_layout == 'grid_one' %}1{% else %}2{% endif %}, minmax(0, 1fr)){% else %}auto / auto-flow 100%{% endif %};
      --product-gallery-media-list-gap: calc(var(--grid-gutter) / 2);
    }

    {%- if section.settings.desktop_media_layout == 'grid_highlight' -%}
    #shopify-section-{{ section.id }} .product-gallery__media-list > :not([hidden]) {
      grid-column: span 2;
    }
    #shopify-section-{{ section.id }} .product-gallery__media-list > :not([hidden]) ~ *:not(.product-gallery__media--expand) {
      grid-column: span 1;
    }
    {%- endif -%}
  }

  @media screen and (min-width: 1400px) {
    #shopify-section-{{ section.id }} {
      --product-gallery-media-list-gap: var(--grid-gutter);
    }
  }

  /* Design moderne noir/gris/blanc */
  #shopify-section-{{ section.id }} {
    background: {{ section.settings.section_background | default: '#f8f9fa' }};
    color: {{ section.settings.text_color | default: '#1a1a1a' }};
  }

  .product {
    background: {{ section.settings.product_background | default: '#ffffff' }};
    border-radius: {{ section.settings.border_radius | default: 16 }}px;
    box-shadow: {{ section.settings.box_shadow | default: '0 4px 24px rgba(0, 0, 0, 0.08)' }};
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .product:hover {
    transform: {{ section.settings.hover_transform | default: 'translateY(-2px)' }};
    box-shadow: {{ section.settings.hover_box_shadow | default: '0 8px 32px rgba(0, 0, 0, 0.12)' }};
  }

  /* Styles pour les offres group√©es - repris de votre design */
  .product-offers-section {
    background: {{ section.settings.offers_background | default: '#ffffff' }};
    padding: {{ section.settings.offers_padding | default: '32px 24px' }};
    margin: {{ section.settings.offers_margin | default: '32px 0' }};
    border-radius: {{ section.settings.offers_border_radius | default: 12 }}px;
    border: {{ section.settings.offers_border | default: '1px solid #e5e7eb' }};
  }

  .offers-title-container {
    text-align: center;
    margin-bottom: 32px;
    position: relative;
  }

  .offers-title {
    font-size: {{ section.settings.offers_title_size | default: 18 }}px;
    font-weight: {{ section.settings.offers_title_weight | default: 700 }};
    color: {{ section.settings.offers_title_color | default: '#000000' }};
    text-transform: {{ section.settings.offers_title_transform | default: 'uppercase' }};
    letter-spacing: {{ section.settings.offers_title_spacing | default: '1px' }};
    background: {{ section.settings.offers_background | default: '#ffffff' }};
    padding: 0 20px;
    display: inline-block;
    position: relative;
    z-index: 2;
  }

  .offers-title-container::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: {{ section.settings.title_line_gradient | default: 'linear-gradient(to right, #e0e7ff, #3b82f6, #e0e7ff)' }};
    z-index: 1;
  }

  .offer-option {
    position: relative;
    border: 2px solid {{ section.settings.offer_border_color | default: '#e5e7eb' }};
    border-radius: {{ section.settings.offer_border_radius | default: 16 }}px;
    padding: {{ section.settings.offer_padding | default: 24 }}px;
    margin-bottom: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    background: {{ section.settings.offer_background | default: '#ffffff' }};
    transform: translateY(0);
  }

  .offer-option:hover {
    border-color: {{ section.settings.offer_hover_border | default: '#d1d5db' }};
    box-shadow: {{ section.settings.offer_hover_shadow | default: '0 4px 12px rgba(0, 0, 0, 0.08)' }};
    transform: {{ section.settings.offer_hover_transform | default: 'translateY(-2px)' }};
  }

  .offer-option.selected {
    border-color: {{ section.settings.offer_selected_border | default: '#3b82f6' }};
    background: {{ section.settings.offer_selected_background | default: '#f8faff' }};
    box-shadow: {{ section.settings.offer_selected_shadow | default: '0 8px 25px rgba(59, 130, 246, 0.15)' }};
    transform: {{ section.settings.offer_selected_transform | default: 'translateY(-4px)' }};
  }

  .offer-badge {
    position: absolute;
    top: -10px;
    right: 20px;
    padding: {{ section.settings.badge_padding | default: '8px 16px' }};
    border-radius: {{ section.settings.badge_border_radius | default: 20 }}px;
    font-size: {{ section.settings.badge_font_size | default: 12 }}px;
    font-weight: {{ section.settings.badge_font_weight | default: 600 }};
    color: {{ section.settings.badge_text_color | default: '#ffffff' }};
    z-index: 3;
    box-shadow: {{ section.settings.badge_shadow | default: '0 2px 8px rgba(0, 0, 0, 0.15)' }};
    animation: {{ section.settings.badge_animation | default: 'pulse 2s infinite' }};
  }

  .offer-badge.popular {
    background: {{ section.settings.popular_badge_color | default: '#10b981' }};
  }

  .offer-badge.best {
    background: {{ section.settings.best_badge_color | default: '#f59e0b' }};
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }

  .offer-content {
    display: flex;
    align-items: flex-start;
    gap: 20px;
  }

  .offer-radio {
    width: 24px;
    height: 24px;
    border: 2px solid {{ section.settings.radio_border_color | default: '#d1d5db' }};
    border-radius: 50%;
    position: relative;
    flex-shrink: 0;
    margin-top: 2px;
    transition: all 0.3s ease;
  }

  .offer-option.selected .offer-radio {
    border-color: {{ section.settings.radio_selected_border | default: '#3b82f6' }};
    background: {{ section.settings.radio_selected_background | default: '#3b82f6' }};
  }

  .offer-option.selected .offer-radio::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 8px;
    height: 8px;
    background: {{ section.settings.radio_dot_color | default: '#ffffff' }};
    border-radius: 50%;
  }

  .offer-details {
    flex: 1;
  }

  .offer-title {
    font-size: {{ section.settings.offer_title_size | default: 24 }}px;
    font-weight: {{ section.settings.offer_title_weight | default: 700 }};
    color: {{ section.settings.offer_title_color | default: '#000000' }};
    margin-bottom: 8px;
    line-height: 1.2;
  }

  .offer-bonus {
    font-size: {{ section.settings.offer_bonus_size | default: 16 }}px;
    color: {{ section.settings.offer_bonus_color | default: '#6b7280' }};
    margin-bottom: 4px;
    line-height: 1.3;
    font-weight: {{ section.settings.offer_bonus_weight | default: 500 }};
  }

  .offer-savings {
    font-size: {{ section.settings.offer_savings_size | default: 16 }}px;
    color: {{ section.settings.offer_savings_color | default: '#10b981' }};
    font-weight: {{ section.settings.offer_savings_weight | default: 600 }};
  }

  .offer-pricing {
    text-align: right;
    flex-shrink: 0;
  }

  .offer-price {
    font-size: {{ section.settings.offer_price_size | default: 28 }}px;
    font-weight: {{ section.settings.offer_price_weight | default: 700 }};
    color: {{ section.settings.offer_price_color | default: '#000000' }};
    line-height: 1;
    margin-bottom: 4px;
  }

  .offer-original-price {
    font-size: {{ section.settings.offer_original_size | default: 16 }}px;
    color: {{ section.settings.offer_original_color | default: '#9ca3af' }};
    text-decoration: line-through;
    font-weight: {{ section.settings.offer_original_weight | default: 500 }};
  }

  .add-to-cart-section {
    margin: 32px 0;
  }

  .add-to-cart-btn {
    width: 100%;
    background: {{ section.settings.button_background | default: '#1a1a1a' }};
    color: {{ section.settings.button_text_color | default: '#ffffff' }};
    border: none;
    padding: {{ section.settings.button_padding | default: '16px 24px' }};
    border-radius: {{ section.settings.button_border_radius | default: 8 }}px;
    font-size: {{ section.settings.button_font_size | default: 18 }}px;
    font-weight: {{ section.settings.button_font_weight | default: 700 }};
    text-transform: {{ section.settings.button_text_transform | default: 'uppercase' }};
    letter-spacing: {{ section.settings.button_letter_spacing | default: '0.5px' }};
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .add-to-cart-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }

  .add-to-cart-btn:hover::before {
    left: 100%;
  }

  .add-to-cart-btn:hover {
    background: {{ section.settings.button_hover_background | default: '#2563eb' }};
    transform: {{ section.settings.button_hover_transform | default: 'translateY(-2px)' }};
    box-shadow: {{ section.settings.button_hover_shadow | default: '0 8px 25px rgba(59, 130, 246, 0.3)' }};
  }

  .add-to-cart-btn:disabled {
    background: {{ section.settings.button_disabled_background | default: '#9ca3af' }};
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }

  .total-price {
    text-align: center;
    margin-top: 16px;
    font-size: {{ section.settings.total_price_size | default: 14 }}px;
    color: {{ section.settings.total_price_color | default: '#6b7280' }};
  }

  .total-price strong {
    color: {{ section.settings.total_price_strong_color | default: '#000000' }};
    font-weight: {{ section.settings.total_price_strong_weight | default: 700 }};
    font-size: {{ section.settings.total_price_strong_size | default: 18 }}px;
  }

  .trust-badges {
    display: grid;
    grid-template-columns: repeat({{ section.settings.trust_badges_columns | default: 3 }}, 1fr);
    gap: {{ section.settings.trust_badges_gap | default: 16 }}px;
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid {{ section.settings.trust_badges_border | default: '#e5e5e5' }};
  }

  .trust-badge {
    text-align: center;
    padding: {{ section.settings.trust_badge_padding | default: '16px 12px' }};
    border-radius: {{ section.settings.trust_badge_border_radius | default: 8 }}px;
    background: {{ section.settings.trust_badge_background | default: 'transparent' }};
    transition: all 0.3s ease;
  }

  .trust-badge:hover {
    background: {{ section.settings.trust_badge_hover_background | default: '#f8f9fa' }};
    transform: {{ section.settings.trust_badge_hover_transform | default: 'translateY(-2px)' }};
  }

  .trust-badge-icon {
    width: {{ section.settings.trust_badge_icon_size | default: 24 }}px;
    height: {{ section.settings.trust_badge_icon_size | default: 24 }}px;
    margin: 0 auto 8px;
    opacity: {{ section.settings.trust_badge_icon_opacity | default: 0.7 }};
    color: {{ section.settings.trust_badge_icon_color | default: '#6b7280' }};
  }

  .trust-badge-text {
    font-size: {{ section.settings.trust_badge_text_size | default: 12 }}px;
    color: {{ section.settings.trust_badge_text_color | default: '#6b7280' }};
    font-weight: {{ section.settings.trust_badge_text_weight | default: 500 }};
  }

  .stock-notice {
    background: {{ section.settings.stock_notice_background | default: 'linear-gradient(135deg, #fbbf24, #f59e0b)' }};
    color: {{ section.settings.stock_notice_color | default: '#ffffff' }};
    padding: {{ section.settings.stock_notice_padding | default: '12px 20px' }};
    border-radius: {{ section.settings.stock_notice_border_radius | default: 8 }}px;
    text-align: center;
    font-weight: {{ section.settings.stock_notice_font_weight | default: 600 }};
    margin-top: 16px;
    font-size: {{ section.settings.stock_notice_font_size | default: 14 }}px;
    animation: {{ section.settings.stock_notice_animation | default: 'glow 2s ease-in-out infinite alternate' }};
  }

  @keyframes glow {
    from { box-shadow: 0 0 5px rgba(251, 191, 36, 0.5); }
    to { box-shadow: 0 0 20px rgba(251, 191, 36, 0.8); }
  }

  /* Rating Stars */
  .product-rating {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 16px 0;
  }

  .stars {
    display: flex;
    gap: 2px;
  }

  .star {
    width: {{ section.settings.star_size | default: 16 }}px;
    height: {{ section.settings.star_size | default: 16 }}px;
    fill: {{ section.settings.star_color | default: '#fbbf24' }};
  }

  .rating-text {
    font-size: {{ section.settings.rating_text_size | default: 14 }}px;
    color: {{ section.settings.rating_text_color | default: '#6b7280' }};
  }

  /* Professional Badge */
  .professional-badge {
    display: inline-block;
    background: {{ section.settings.professional_badge_background | default: '#f3f4f6' }};
    color: {{ section.settings.professional_badge_color | default: '#374151' }};
    padding: {{ section.settings.professional_badge_padding | default: '4px 12px' }};
    border-radius: {{ section.settings.professional_badge_border_radius | default: 20 }}px;
    font-size: {{ section.settings.professional_badge_font_size | default: 12 }}px;
    font-weight: {{ section.settings.professional_badge_font_weight | default: 600 }};
    margin-bottom: 16px;
  }

  .product-info__title {
    font-size: {{ section.settings.product_title_size | default: 32 }}px;
    font-weight: {{ section.settings.product_title_weight | default: 700 }};
    color: {{ section.settings.product_title_color | default: '#1a1a1a' }};
    margin-bottom: 16px;
    line-height: 1.2;
  }

  .product-info__description {
    font-size: {{ section.settings.product_description_size | default: 16 }}px;
    color: {{ section.settings.product_description_color | default: '#6b7280' }};
    line-height: 1.6;
    margin-bottom: 24px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .offer-content {
      flex-direction: column;
      align-items: flex-start;
      gap: 16px;
    }

    .offer-pricing {
      text-align: left;
      width: 100%;
    }

    .trust-badges {
      grid-template-columns: 1fr;
      gap: 12px;
    }

    .offers-title {
      font-size: {{ section.settings.mobile_offers_title_size | default: 16 }}px;
    }

    .offer-title {
      font-size: {{ section.settings.mobile_offer_title_size | default: 20 }}px;
    }

    .offer-price {
      font-size: {{ section.settings.mobile_offer_price_size | default: 24 }}px;
    }

    .product-info__title {
      font-size: {{ section.settings.mobile_product_title_size | default: 24 }}px;
    }
  }

  /* Animations suppl√©mentaires */
  .offer-option {
    animation: {{ section.settings.offer_entrance_animation | default: 'fadeInUp 0.6s ease-out' }};
  }

  .offer-option:nth-child(1) { animation-delay: 0.1s; }
  .offer-option:nth-child(2) { animation-delay: 0.2s; }
  .offer-option:nth-child(3) { animation-delay: 0.3s; }
  .offer-option:nth-child(4) { animation-delay: 0.4s; }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<div {% render 'section-properties', tight: section.settings.full_width %}>
  {%- capture product_form_id -%}product-form-{{ product.id }}-{{ section.id }}{%- endcapture -%}
  
  <product-rerender id="product-info-{{ product.id }}-{{ section.id }}" observe-form="{{ product_form_id }}" allow-partial-rerender>
    <div class="product">
      {%- if product.media.size > 0 -%}
        {%- render 'product-gallery', product: product, product_form_id: product_form_id -%}
      {%- endif -%}

      <div class="product-info">
        <!-- Professional Badge -->
        {%- if section.settings.show_professional_badge -%}
          <span class="professional-badge">{{ section.settings.professional_badge_text | default: 'Professionnel' }}</span>
        {%- endif -%}

        <!-- Product Title -->
        <h1 class="product-info__title">{{ product.title }}</h1>

        <!-- Rating -->
        {%- if section.settings.show_rating -%}
          <div class="product-rating">
            <div class="stars">
              {%- for i in (1..5) -%}
                <svg class="star" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              {%- endfor -%}
            </div>
            <span class="rating-text">({{ section.settings.reviews_count | default: 247 }} avis)</span>
          </div>
        {%- endif -%}

        <!-- Product Description -->
        {%- if section.settings.show_description -%}
          <div class="product-info__description">
            <div class="prose">
              {{ product.description | default: section.settings.custom_description }}
            </div>
          </div>
        {%- endif -%}

        <!-- Product Offers Section using Variants -->
        <div class="product-offers-section">
          <div class="offers-title-container">
            <h2 class="offers-title">{{ section.settings.offers_title | default: 'Choisissez votre offre :' }}</h2>
          </div>

          <form id="{{ product_form_id }}" action="/cart/add" method="post" enctype="multipart/form-data">
            <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}" id="variant-id">
            
            <!-- Offer Options from Variants -->
            <div class="offer-options">
              {%- assign sorted_variants = product.variants | sort: 'price' -%}
              {%- for variant in sorted_variants -%}
                {%- if variant.available -%}
                  {%- comment -%} Extract quantity from variant title {%- endcomment -%}
                  {%- assign variant_title_lower = variant.title | downcase -%}
                  {%- assign quantity = 1 -%}
                  {%- if variant_title_lower contains '2' -%}
                    {%- assign quantity = 2 -%}
                  {%- elsif variant_title_lower contains '5' -%}
                    {%- assign quantity = 5 -%}
                  {%- elsif variant_title_lower contains '10' -%}
                    {%- assign quantity = 10 -%}
                  {%- endif -%}

                  {%- comment -%} Calculate savings and determine badges {%- endcomment -%}
                  {%- assign base_price = sorted_variants.first.price -%}
                  {%- assign expected_price = base_price | times: quantity -%}
                  {%- assign savings_amount = expected_price | minus: variant.price -%}
                  {%- assign savings_percent = 0 -%}
                  {%- if expected_price > 0 -%}
                    {%- assign savings_percent = savings_amount | times: 100 | divided_by: expected_price -%}
                  {%- endif -%}

                  {%- comment -%} Determine badge and bonus {%- endcomment -%}
                  {%- assign badge_text = '' -%}
                  {%- assign badge_style = 'popular' -%}
                  {%- assign bonus_text = '' -%}
                  {%- assign is_default = false -%}

                  {%- if quantity == 2 -%}
                    {%- assign badge_text = section.settings.badge_2_text | default: 'Le plus choisi' -%}
                    {%- assign badge_style = 'popular' -%}
                    {%- assign bonus_text = section.settings.bonus_2_text | default: '+ Ebook Gratuit' -%}
                  {%- elsif quantity == 5 -%}
                    {%- assign bonus_text = section.settings.bonus_5_text | default: '+ Ebook Gratuit & Cadeau üéÅ' -%}
                    {%- if section.settings.default_variant == '5' -%}
                      {%- assign is_default = true -%}
                    {%- endif -%}
                  {%- elsif quantity == 10 -%}
                    {%- assign badge_text = section.settings.badge_10_text | default: 'Meilleure offre' -%}
                    {%- assign badge_style = 'best' -%}
                    {%- assign bonus_text = section.settings.bonus_10_text | default: '+ Ebook Gratuit & Cadeau üéÅ' -%}
                  {%- endif -%}

                  <div class="offer-option{% if is_default %} selected{% endif %}" 
                       data-variant-id="{{ variant.id }}"
                       data-offer="{{ quantity }}" 
                       data-price="{{ variant.price }}" 
                       data-original="{{ expected_price }}">
                    {%- if badge_text != blank -%}
                      <div class="offer-badge {{ badge_style }}">{{ badge_text }}</div>
                    {%- endif -%}
                    <div class="offer-content">
                      <div class="offer-radio"></div>
                      <div class="offer-details">
                        <div class="offer-title">{{ variant.title }}</div>
                        {%- if bonus_text != blank -%}
                          <div class="offer-bonus">{{ bonus_text }}</div>
                        {%- endif -%}
                        {%- if savings_percent > 0 -%}
                          <div class="offer-savings">√âconomisez {{ savings_percent }}%</div>
                        {%- endif -%}
                      </div>
                      <div class="offer-pricing">
                        <div class="offer-price">{{ variant.price | money_without_currency }} {{ section.settings.currency_symbol | default: '‚Ç¨ HT' }}</div>
                        {%- if savings_percent > 0 -%}
                          <div class="offer-original-price">{{ expected_price | money_without_currency }} {{ section.settings.currency_symbol | default: '‚Ç¨ HT' }}</div>
                        {%- endif -%}
                      </div>
                    </div>
                  </div>
                {%- endif -%}
              {%- endfor -%}
            </div>

            <!-- Hidden inputs for cart properties -->
            <input type="hidden" name="properties[Quantit√©]" id="selected-quantity" value="">
            <input type="hidden" name="properties[Prix unitaire]" id="selected-unit-price" value="">

            <!-- Add to Cart Section -->
            <div class="add-to-cart-section">
              <button type="submit" class="add-to-cart-btn" id="add-to-cart-button">
                {{ section.settings.add_to_cart_text | default: 'Ajouter au panier' }}
              </button>
              <div class="total-price">
                Prix total: <strong id="total-price-display">{{ product.selected_or_first_available_variant.price | money_without_currency }} {{ section.settings.currency_symbol | default: '‚Ç¨ HT' }}</strong>
              </div>
              {%- if section.settings.show_stock_notice -%}
                <div class="stock-notice">
                  {{ section.settings.stock_notice_text | default: "üî• Stock Limit√© ‚Äì VENTE D'√âT√â üî•" }}
                </div>
              {%- endif -%}
            </div>
          </form>
        </div>

        <!-- Trust Badges -->
        {%- if section.settings.show_trust_badges -%}
          <div class="trust-badges">
            <div class="trust-badge">
              <svg class="trust-badge-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
              <div class="trust-badge-text">{{ section.settings.trust_badge_1 | default: 'Livraison rapide' }}</div>
            </div>
            <div class="trust-badge">
              <svg class="trust-badge-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              </svg>
              <div class="trust-badge-text">{{ section.settings.trust_badge_2 | default: 'Garantie qualit√©' }}</div>
            </div>
            <div class="trust-badge">
              <svg class="trust-badge-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M1 4h22l-1 7H2L1 4z"/>
                <path d="M7 4V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2"/>
                <path d="M17 4v8a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V4"/>
              </svg>
              <div class="trust-badge-text">{{ section.settings.trust_badge_3 | default: 'Retour gratuit' }}</div>
            </div>
          </div>
        {%- endif -%}
      </div>
    </div>
  </product-rerender>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Offer selection functionality
  const offerOptions = document.querySelectorAll('.offer-option');
  const totalPriceDisplay = document.getElementById('total-price-display');
  const selectedQuantityInput = document.getElementById('selected-quantity');
  const selectedUnitPriceInput = document.getElementById('selected-unit-price');
  const variantIdInput = document.getElementById('variant-id');
  const addToCartButton = document.getElementById('add-to-cart-button');
  
  // Initialize with default selected offer
  let selectedOffer = document.querySelector('.offer-option.selected');
  if (!selectedOffer && offerOptions.length > 0) {
    selectedOffer = offerOptions[0];
    selectedOffer.classList.add('selected');
  }
  
  offerOptions.forEach(option => {
    option.addEventListener('click', function() {
      // Remove selected class from all options
      offerOptions.forEach(opt => opt.classList.remove('selected'));
      
      // Add selected class to clicked option
      this.classList.add('selected');
      selectedOffer = this;
      
      // Update variant ID
      if (variantIdInput) {
        variantIdInput.value = this.dataset.variantId;
      }
      
      // Update hidden inputs
      updateCartProperties();
      
      // Update total price
      updateTotalPrice();

      // Animation effect
      this.style.transform = 'scale(0.98)';
      setTimeout(() => {
        this.style.transform = '';
      }, 150);
    });
  });

  function updateCartProperties() {
    if (selectedOffer && selectedQuantityInput && selectedUnitPriceInput) {
      const quantity = selectedOffer.dataset.offer;
      const price = parseInt(selectedOffer.dataset.price) / 100;
      
      selectedQuantityInput.value = quantity;
      selectedUnitPriceInput.value = price.toFixed(2) + ' {{ section.settings.currency_symbol | default: "‚Ç¨ HT" }}';
    }
  }

  function updateTotalPrice() {
    if (selectedOffer && totalPriceDisplay) {
      const price = parseInt(selectedOffer.dataset.price);
      const total = price / 100;
      totalPriceDisplay.textContent = total.toFixed(2) + ' {{ section.settings.currency_symbol | default: "‚Ç¨ HT" }}';
    }
  }

  // Form submission handling
  if (addToCartButton) {
    addToCartButton.addEventListener('click', function(e) {
      e.preventDefault();
      
      // Disable button during submission
      this.disabled = true;
      this.textContent = '{{ section.settings.loading_text | default: "Ajout en cours..." }}';
      
      // Update cart properties before submission
      updateCartProperties();
      
      // Submit the form
      const form = document.getElementById('{{ product_form_id }}');
      if (form) {
        // Create FormData to handle the submission
        const formData = new FormData(form);
        
        fetch('/cart/add.js', {
          method: 'POST',
          body: formData
        })
        .then(response => response.json())
        .then(data => {
          // Success - redirect to cart or show success message
          this.textContent = '{{ section.settings.success_text | default: "Ajout√© !" }}';
          setTimeout(() => {
            window.location.href = '/cart';
          }, 1000);
        })
        .catch(error => {
          console.error('Error:', error);
          // Re-enable button on error
          this.disabled = false;
          this.textContent = "{{ section.settings.add_to_cart_text | default: 'Ajouter au panier' }}";
          alert('{{ section.settings.error_text | default: "Erreur lors de l\'ajout au panier. Veuillez r√©essayer." }}');
        });
      }
    });
  }

  // Initialize
  if (selectedOffer && variantIdInput) {
    variantIdInput.value = selectedOffer.dataset.variantId;
  }
  updateCartProperties();
  updateTotalPrice();

  // Smooth scroll animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = '1';
        entry.target.style.transform = 'translateY(0)';
      }
    });
  }, observerOptions);

  // Observe elements for animation
  document.querySelectorAll('.offer-option, .trust-badge').forEach(el => {
    el.style.opacity = '0';
    el.style.transform = 'translateY(20px)';
    el.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
    observer.observe(el);
  });
});
</script>

{% schema %}
{
  "name": "Page Produit Moderne",
  "class": "shopify-section--modern-product",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "üé® Design g√©n√©ral"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Pleine largeur",
      "default": true
    },
    {
      "type": "color",
      "id": "section_background",
      "label": "Arri√®re-plan de section",
      "default": "#f8f9fa"
    },
    {
      "type": "color",
      "id": "product_background",
      "label": "Arri√®re-plan du produit",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Couleur du texte",
      "default": "#1a1a1a"
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Bordure arrondie",
      "default": 16
    },
    {
      "type": "text",
      "id": "box_shadow",
      "label": "Ombre",
      "default": "0 4px 24px rgba(0, 0, 0, 0.08)"
    },
    {
      "type": "text",
      "id": "hover_transform",
      "label": "Animation au survol",
      "default": "translateY(-2px)"
    },
    {
      "type": "text",
      "id": "hover_box_shadow",
      "label": "Ombre au survol",
      "default": "0 8px 32px rgba(0, 0, 0, 0.12)"
    },
    {
      "type": "header",
      "content": "üìù Informations produit"
    },
    {
      "type": "checkbox",
      "id": "show_professional_badge",
      "label": "Afficher le badge professionnel",
      "default": true
    },
    {
      "type": "text",
      "id": "professional_badge_text",
      "label": "Texte du badge professionnel",
      "default": "Professionnel"
    },
    {
      "type": "color",
      "id": "professional_badge_background",
      "label": "Arri√®re-plan du badge",
      "default": "#f3f4f6"
    },
    {
      "type": "color",
      "id": "professional_badge_color",
      "label": "Couleur du texte du badge",
      "default": "#374151"
    },
    {
      "type": "range",
      "id": "professional_badge_border_radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Bordure arrondie du badge",
      "default": 20
    },
    {
      "type": "text",
      "id": "professional_badge_padding",
      "label": "Espacement du badge",
      "default": "4px 12px"
    },
    {
      "type": "range",
      "id": "professional_badge_font_size",
      "min": 10,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Taille de police du badge",
      "default": 12
    },
    {
      "type": "range",
      "id": "professional_badge_font_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids de police du badge",
      "default": 600
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Afficher la description",
      "default": true
    },
    {
      "type": "textarea",
      "id": "custom_description",
      "label": "Description personnalis√©e",
      "info": "Utilis√©e si le produit n'a pas de description"
    },
    {
      "type": "range",
      "id": "product_title_size",
      "min": 18,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Taille du titre",
      "default": 32
    },
    {
      "type": "range",
      "id": "mobile_product_title_size",
      "min": 16,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Taille du titre mobile",
      "default": 24
    },
    {
      "type": "color",
      "id": "product_title_color",
      "label": "Couleur du titre",
      "default": "#1a1a1a"
    },
    {
      "type": "range",
      "id": "product_title_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids du titre",
      "default": 700
    },
    {
      "type": "range",
      "id": "product_description_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Taille de la description",
      "default": 16
    },
    {
      "type": "color",
      "id": "product_description_color",
      "label": "Couleur de la description",
      "default": "#6b7280"
    },
    {
      "type": "header",
      "content": "‚≠ê √âvaluations"
    },
    {
      "type": "checkbox",
      "id": "show_rating",
      "label": "Afficher les √©valuations",
      "default": true
    },
    {
      "type": "number",
      "id": "reviews_count",
      "label": "Nombre d'avis",
      "default": 247
    },
    {
      "type": "range",
      "id": "star_size",
      "min": 12,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Taille des √©toiles",
      "default": 16
    },
    {
      "type": "color",
      "id": "star_color",
      "label": "Couleur des √©toiles",
      "default": "#fbbf24"
    },
    {
      "type": "range",
      "id": "rating_text_size",
      "min": 10,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Taille du texte d'√©valuation",
      "default": 14
    },
    {
      "type": "color",
      "id": "rating_text_color",
      "label": "Couleur du texte d'√©valuation",
      "default": "#6b7280"
    },
    {
      "type": "header",
      "content": "üéØ Section des offres"
    },
    {
      "type": "text",
      "id": "offers_title",
      "label": "Titre de la section offres",
      "default": "Choisissez votre offre :"
    },
    {
      "type": "color",
      "id": "offers_background",
      "label": "Arri√®re-plan des offres",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "offers_padding",
      "label": "Espacement des offres",
      "default": "32px 24px"
    },
    {
      "type": "text",
      "id": "offers_margin",
      "label": "Marge des offres",
      "default": "32px 0"
    },
    {
      "type": "text",
      "id": "offers_border",
      "label": "Bordure des offres",
      "default": "1px solid #e5e7eb"
    },
    {
      "type": "range",
      "id": "offers_border_radius",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Bordure arrondie des offres",
      "default": 12
    },
    {
      "type": "range",
      "id": "offers_title_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Taille du titre des offres",
      "default": 18
    },
    {
      "type": "range",
      "id": "mobile_offers_title_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Taille mobile du titre des offres",
      "default": 16
    },
    {
      "type": "color",
      "id": "offers_title_color",
      "label": "Couleur du titre des offres",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "offers_title_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids du titre des offres",
      "default": 700
    },
    {
      "type": "select",
      "id": "offers_title_transform",
      "label": "Transformation du titre",
      "options": [
        {
          "value": "none",
          "label": "Aucune"
        },
        {
          "value": "uppercase",
          "label": "Majuscules"
        },
        {
          "value": "lowercase",
          "label": "Minuscules"
        },
        {
          "value": "capitalize",
          "label": "Premi√®re lettre majuscule"
        }
      ],
      "default": "uppercase"
    },
    {
      "type": "text",
      "id": "offers_title_spacing",
      "label": "Espacement des lettres du titre",
      "default": "1px"
    },
    {
      "type": "text",
      "id": "title_line_gradient",
      "label": "D√©grad√© de la ligne d√©corative",
      "default": "linear-gradient(to right, #e0e7ff, #3b82f6, #e0e7ff)"
    },
    {
      "type": "header",
      "content": "üíé Options d'offres individuelles"
    },
    {
      "type": "color",
      "id": "offer_background",
      "label": "Arri√®re-plan des options",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "offer_border_color",
      "label": "Couleur de bordure des options",
      "default": "#e5e7eb"
    },
    {
      "type": "color",
      "id": "offer_hover_border",
      "label": "Couleur de bordure au survol",
      "default": "#d1d5db"
    },
    {
      "type": "color",
      "id": "offer_selected_border",
      "label": "Couleur de bordure s√©lectionn√©e",
      "default": "#3b82f6"
    },
    {
      "type": "color",
      "id": "offer_selected_background",
      "label": "Arri√®re-plan s√©lectionn√©",
      "default": "#f8faff"
    },
    {
      "type": "range",
      "id": "offer_border_radius",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Bordure arrondie des options",
      "default": 16
    },
    {
      "type": "text",
      "id": "offer_padding",
      "label": "Espacement des options",
      "default": "24px"
    },
    {
      "type": "text",
      "id": "offer_hover_shadow",
      "label": "Ombre au survol",
      "default": "0 4px 12px rgba(0, 0, 0, 0.08)"
    },
    {
      "type": "text",
      "id": "offer_selected_shadow",
      "label": "Ombre s√©lectionn√©e",
      "default": "0 8px 25px rgba(59, 130, 246, 0.15)"
    },
    {
      "type": "text",
      "id": "offer_hover_transform",
      "label": "Animation au survol",
      "default": "translateY(-2px)"
    },
    {
      "type": "text",
      "id": "offer_selected_transform",
      "label": "Animation s√©lectionn√©e",
      "default": "translateY(-4px)"
    },
    {
      "type": "select",
      "id": "offer_entrance_animation",
      "label": "Animation d'entr√©e",
      "options": [
        {
          "value": "none",
          "label": "Aucune"
        },
        {
          "value": "fadeInUp 0.6s ease-out",
          "label": "Fade In Up"
        },
        {
          "value": "fadeIn 0.6s ease-out",
          "label": "Fade In"
        },
        {
          "value": "slideInLeft 0.6s ease-out",
          "label": "Slide In Left"
        }
      ],
      "default": "fadeInUp 0.6s ease-out"
    },
    {
      "type": "header",
      "content": "üéñÔ∏è Badges"
    },
    {
      "type": "text",
      "id": "badge_2_text",
      "label": "Texte badge 2 plaques",
      "default": "Le plus choisi"
    },
    {
      "type": "text",
      "id": "badge_10_text",
      "label": "Texte badge 10 plaques",
      "default": "Meilleure offre"
    },
    {
      "type": "color",
      "id": "popular_badge_color",
      "label": "Couleur badge populaire",
      "default": "#10b981"
    },
    {
      "type": "color",
      "id": "best_badge_color",
      "label": "Couleur badge meilleure offre",
      "default": "#f59e0b"
    },
    {
      "type": "text",
      "id": "badge_padding",
      "label": "Espacement des badges",
      "default": "8px 16px"
    },
    {
      "type": "range",
      "id": "badge_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Bordure arrondie des badges",
      "default": 20
    },
    {
      "type": "range",
      "id": "badge_font_size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "label": "Taille de police des badges",
      "default": 12
    },
    {
      "type": "range",
      "id": "badge_font_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids de police des badges",
      "default": 600
    },
    {
      "type": "color",
      "id": "badge_text_color",
      "label": "Couleur du texte des badges",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "badge_shadow",
      "label": "Ombre des badges",
      "default": "0 2px 8px rgba(0, 0, 0, 0.15)"
    },
    {
      "type": "select",
      "id": "badge_animation",
      "label": "Animation des badges",
      "options": [
        {
          "value": "none",
          "label": "Aucune"
        },
        {
          "value": "pulse 2s infinite",
          "label": "Pulsation"
        },
        {
          "value": "bounce 2s infinite",
          "label": "Rebond"
        }
      ],
      "default": "pulse 2s infinite"
    },
    {
      "type": "header",
      "content": "üéÅ Bonus et √©conomies"
    },
    {
      "type": "text",
      "id": "bonus_2_text",
      "label": "Bonus 2 plaques",
      "default": "+ Ebook Gratuit"
    },
    {
      "type": "text",
      "id": "bonus_5_text",
      "label": "Bonus 5 plaques",
      "default": "+ Ebook Gratuit & Cadeau üéÅ"
    },
    {
      "type": "text",
      "id": "bonus_10_text",
      "label": "Bonus 10 plaques",
      "default": "+ Ebook Gratuit & Cadeau üéÅ"
    },
    {
      "type": "select",
      "id": "default_variant",
      "label": "Variante s√©lectionn√©e par d√©faut",
      "options": [
        {
          "value": "1",
          "label": "1 plaque"
        },
        {
          "value": "2",
          "label": "2 plaques"
        },
        {
          "value": "5",
          "label": "5 plaques"
        },
        {
          "value": "10",
          "label": "10 plaques"
        }
      ],
      "default": "5"
    },
    {
      "type": "header",
      "content": "üí∞ Prix et monnaie"
    },
    {
      "type": "text",
      "id": "currency_symbol",
      "label": "Symbole de devise",
      "default": "‚Ç¨ HT"
    },
    {
      "type": "range",
      "id": "offer_title_size",
      "min": 16,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Taille titre offre",
      "default": 24
    },
    {
      "type": "range",
      "id": "mobile_offer_title_size",
      "min": 14,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Taille mobile titre offre",
      "default": 20
    },
    {
      "type": "color",
      "id": "offer_title_color",
      "label": "Couleur titre offre",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "offer_title_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids titre offre",
      "default": 700
    },
    {
      "type": "range",
      "id": "offer_bonus_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Taille texte bonus",
      "default": 16
    },
    {
      "type": "color",
      "id": "offer_bonus_color",
      "label": "Couleur texte bonus",
      "default": "#6b7280"
    },
    {
      "type": "range",
      "id": "offer_bonus_weight",
      "min": 400,
      "max": 700,
      "step": 100,
      "label": "Poids texte bonus",
      "default": 500
    },
    {
      "type": "range",
      "id": "offer_savings_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Taille texte √©conomie",
      "default": 16
    },
    {
      "type": "color",
      "id": "offer_savings_color",
      "label": "Couleur texte √©conomie",
      "default": "#10b981"
    },
    {
      "type": "range",
      "id": "offer_savings_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids texte √©conomie",
      "default": 600
    },
    {
      "type": "range",
      "id": "offer_price_size",
      "min": 20,
      "max": 36,
      "step": 2,
      "unit": "px",
      "label": "Taille prix offre",
      "default": 28
    },
    {
      "type": "range",
      "id": "mobile_offer_price_size",
      "min": 18,
      "max": 28,
      "step": 2,
      "unit": "px",
      "label": "Taille mobile prix offre",
      "default": 24
    },
    {
      "type": "color",
      "id": "offer_price_color",
      "label": "Couleur prix offre",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "offer_price_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids prix offre",
      "default": 700
    },
    {
      "type": "range",
      "id": "offer_original_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Taille prix original",
      "default": 16
    },
    {
      "type": "color",
      "id": "offer_original_color",
      "label": "Couleur prix original",
      "default": "#9ca3af"
    },
    {
      "type": "range",
      "id": "offer_original_weight",
      "min": 400,
      "max": 700,
      "step": 100,
      "label": "Poids prix original",
      "default": 500
    },
    {
      "type": "header",
      "content": "üîò Boutons radio"
    },
    {
      "type": "color",
      "id": "radio_border_color",
      "label": "Couleur bordure radio",
      "default": "#d1d5db"
    },
    {
      "type": "color",
      "id": "radio_selected_border",
      "label": "Couleur bordure radio s√©lectionn√©",
      "default": "#3b82f6"
    },
    {
      "type": "color",
      "id": "radio_selected_background",
      "label": "Arri√®re-plan radio s√©lectionn√©",
      "default": "#3b82f6"
    },
    {
      "type": "color",
      "id": "radio_dot_color",
      "label": "Couleur point radio",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "üõí Bouton d'ajout au panier"
    },
    {
      "type": "text",
      "id": "add_to_cart_text",
      "label": "Texte du bouton",
      "default": "Ajouter au panier"
    },
    {
      "type": "text",
      "id": "loading_text",
      "label": "Texte de chargement",
      "default": "Ajout en cours..."
    },
    {
      "type": "text",
      "id": "success_text",
      "label": "Texte de succ√®s",
      "default": "Ajout√© !"
    },
    {
      "type": "text",
      "id": "error_text",
      "label": "Texte d'erreur",
      "default": "Erreur lors de l'ajout au panier. Veuillez r√©essayer."
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Arri√®re-plan du bouton",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Couleur du texte du bouton",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_background",
      "label": "Arri√®re-plan au survol",
      "default": "#2563eb"
    },
    {
      "type": "color",
      "id": "button_disabled_background",
      "label": "Arri√®re-plan d√©sactiv√©",
      "default": "#9ca3af"
    },
    {
      "type": "text",
      "id": "button_padding",
      "label": "Espacement du bouton",
      "default": "16px 24px"
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Bordure arrondie du bouton",
      "default": 8
    },
    {
      "type": "range",
      "id": "button_font_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Taille de police du bouton",
      "default": 18
    },
    {
      "type": "range",
      "id": "button_font_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids de police du bouton",
      "default": 700
    },
    {
      "type": "select",
      "id": "button_text_transform",
      "label": "Transformation du texte",
      "options": [
        {
          "value": "none",
          "label": "Aucune"
        },
        {
          "value": "uppercase",
          "label": "Majuscules"
        },
        {
          "value": "lowercase",
          "label": "Minuscules"
        },
        {
          "value": "capitalize",
          "label": "Premi√®re lettre majuscule"
        }
      ],
      "default": "uppercase"
    },
    {
      "type": "text",
      "id": "button_letter_spacing",
      "label": "Espacement des lettres",
      "default": "0.5px"
    },
    {
      "type": "text",
      "id": "button_hover_transform",
      "label": "Animation au survol",
      "default": "translateY(-2px)"
    },
    {
      "type": "text",
      "id": "button_hover_shadow",
      "label": "Ombre au survol",
      "default": "0 8px 25px rgba(59, 130, 246, 0.3)"
    },
    {
      "type": "header",
      "content": "üí∞ Prix total"
    },
    {
      "type": "range",
      "id": "total_price_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Taille prix total",
      "default": 14
    },
    {
      "type": "color",
      "id": "total_price_color",
      "label": "Couleur prix total",
      "default": "#6b7280"
    },
    {
      "type": "range",
      "id": "total_price_strong_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Taille prix total (gras)",
      "default": 18
    },
    {
      "type": "color",
      "id": "total_price_strong_color",
      "label": "Couleur prix total (gras)",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "total_price_strong_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids prix total (gras)",
      "default": 700
    },
    {
      "type": "header",
      "content": "üö® Alerte de stock"
    },
    {
      "type": "checkbox",
      "id": "show_stock_notice",
      "label": "Afficher l'alerte de stock",
      "default": true
    },
    {
      "type": "text",
      "id": "stock_notice_text",
      "label": "Texte de l'alerte",
      "default": "üî• Stock Limit√© ‚Äì VENTE D'√âT√â üî•"
    },
    {
      "type": "text",
      "id": "stock_notice_background",
      "label": "Arri√®re-plan de l'alerte",
      "default": "linear-gradient(135deg, #fbbf24, #f59e0b)"
    },
    {
      "type": "color",
      "id": "stock_notice_color",
      "label": "Couleur texte alerte",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "stock_notice_padding",
      "label": "Espacement alerte",
      "default": "12px 20px"
    },
    {
      "type": "range",
      "id": "stock_notice_border_radius",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Bordure arrondie alerte",
      "default": 8
    },
    {
      "type": "range",
      "id": "stock_notice_font_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Taille police alerte",
      "default": 14
    },
    {
      "type": "range",
      "id": "stock_notice_font_weight",
      "min": 400,
      "max": 900,
      "step": 100,
      "label": "Poids police alerte",
      "default": 600
    },
    {
      "type": "select",
      "id": "stock_notice_animation",
      "label": "Animation alerte",
      "options": [
        {
          "value": "none",
          "label": "Aucune"
        },
        {
          "value": "glow 2s ease-in-out infinite alternate",
          "label": "Lueur"
        },
        {
          "value": "pulse 2s infinite",
          "label": "Pulsation"
        }
      ],
      "default": "glow 2s ease-in-out infinite alternate"
    },
    {
      "type": "header",
      "content": "üõ°Ô∏è Badges de confiance"
    },
    {
      "type": "checkbox",
      "id": "show_trust_badges",
      "label": "Afficher les badges de confiance",
      "default": true
    },
    {
      "type": "text",
      "id": "trust_badge_1",
      "label": "Badge 1",
      "default": "Livraison rapide"
    },
    {
      "type": "text",
      "id": "trust_badge_2",
      "label": "Badge 2",
      "default": "Garantie qualit√©"
    },
    {
      "type": "text",
      "id": "trust_badge_3",
      "label": "Badge 3",
      "default": "Retour gratuit"
    },
    {
      "type": "range",
      "id": "trust_badges_columns",
      "min": 1,
      "max": 6,
      "step": 1,
      "label": "Nombre de colonnes",
      "default": 3
    },
    {
      "type": "range",
      "id": "trust_badges_gap",
      "min": 8,
      "max": 32,
      "step": 4,
      "unit": "px",
      "label": "Espacement entre badges",
      "default": 16
    },
    {
      "type": "color",
      "id": "trust_badges_border",
      "label": "Couleur bordure sup√©rieure",
      "default": "#e5e5e5"
    },
    {
      "type": "text",
      "id": "trust_badge_padding",
      "label": "Espacement des badges",
      "default": "16px 12px"
    },
    {
      "type": "range",
      "id": "trust_badge_border_radius",
      "min": 0,
      "max": 16,
      "step": 2,
      "unit": "px",
      "label": "Bordure arrondie",
      "default": 8
    },
    {
      "type": "color",
      "id": "trust_badge_background",
      "label": "Arri√®re-plan badges",
      "default": "transparent"
    },
    {
      "type": "color",
      "id": "trust_badge_hover_background",
      "label": "Arri√®re-plan au survol",
      "default": "#f8f9fa"
    },
    {
      "type": "text",
      "id": "trust_badge_hover_transform",
      "label": "Animation au survol",
      "default": "translateY(-2px)"
    },
    {
      "type": "range",
      "id": "trust_badge_icon_size",
      "min": 16,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Taille des ic√¥nes",
      "default": 24
    },
    {
      "type": "range",
      "id": "trust_badge_icon_opacity",
      "min": 0.1,
      "max": 1,
      "step": 0.1,
      "label": "Opacit√© des ic√¥nes",
      "default": 0.7
    },
    {
      "type": "color",
      "id": "trust_badge_icon_color",
      "label": "Couleur des ic√¥nes",
      "default": "#6b7280"
    },
    {
      "type": "range",
      "id": "trust_badge_text_size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "label": "Taille du texte",
      "default": 12
    },
    {
      "type": "color",
      "id": "trust_badge_text_color",
      "label": "Couleur du texte",
      "default": "#6b7280"
    },
    {
      "type": "range",
      "id": "trust_badge_text_weight",
      "min": 400,
      "max": 700,
      "step": 100,
      "label": "Poids du texte",
      "default": 500
    },
    {
      "type": "header",
      "content": "üì± Galerie de m√©dias"
    },
    {
      "type": "range",
      "id": "desktop_media_width",
      "label": "Largeur m√©dia desktop",
      "min": 35,
      "max": 65,
      "step": 5,
      "unit": "%",
      "default": 55
    },
    {
      "type": "select",
      "id": "desktop_media_layout",
      "label": "Disposition m√©dia desktop",
      "options": [
        {
          "value": "grid_one",
          "label": "Grille (1x1)"
        },
        {
          "value": "grid",
          "label": "Grille (2x2)"
        },
        {
          "value": "grid_highlight",
          "label": "Grille (2x2) avec m√©dia en surbrillance"
        },
        {
          "value": "carousel_thumbnails_left",
          "label": "Miniatures gauche (carrousel)"
        },
        {
          "value": "carousel_thumbnails_bottom",
          "label": "Miniatures bas (carrousel)"
        }
      ],
      "default": "carousel_thumbnails_left"
    },
    {
      "type": "select",
      "id": "mobile_media_size",
      "label": "Taille m√©dia mobile",
      "options": [
        {
          "value": "expanded",
          "label": "√âtendu"
        },
        {
          "value": "contained",
          "label": "Contenu"
        }
      ],
      "default": "expanded"
    },
    {
      "type": "select",
      "id": "mobile_carousel_control",
      "label": "Contr√¥le carrousel mobile",
      "options": [
        {
          "value": "dots",
          "label": "Points"
        },
        {
          "value": "floating_dots",
          "label": "Points flottants"
        },
        {
          "value": "thumbnails",
          "label": "Miniatures"
        },
        {
          "value": "free_scroll",
          "label": "D√©filement libre"
        }
      ],
      "default": "floating_dots"
    }
  ],
  "presets": [
    {
      "name": "Page Produit Moderne"
    }
  ]
}
{% endschema %}